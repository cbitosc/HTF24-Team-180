
# import pickle
# import string
# from nltk.corpus import stopwords
# from nltk import word_tokenize

# # Ensure NLTK stopwords are downloaded
# stop_words = set(stopwords.words('english'))

# # model = open("")

# def text_process(review):
#     """
#     Preprocess the review text by removing punctuation and stop words.
    
#     Args:
#         review (str): The review text to process.
    
#     Returns:
#         list: A list of processed words.
#     """
#     # Remove punctuation
#     nopunc = [char for char in review if char not in string.punctuation]
#     nopunc = ''.join(nopunc)
#     # Return words that are not stop words
#     return [word for word in nopunc.split() if word.lower() not in stop_words]

# # Load model at module level
# try:
#     with open('./models/fake_review_model.pkl', 'rb') as file:
#         loaded_model = pickle.load(file)
#         print("Model loaded")
# except Exception as e:
#     print(f"Error loading model: {e}")
# # with open('./models/fake_review_model.pkl', 'rb') as file:
# #     loaded_model = pickle.load(file)
# #     print("model loaded")

# # def text_process(review):
# #     """
# #     Preprocess the review text by removing punctuation and stop words.
    
# #     Args:
# #         review (str): The review text to process.
    
# #     Returns:
# #         list: A list of processed words.
# #     """
# #     # Remove punctuation
# #     nopunc = [char for char in review if char not in string.punctuation]
# #     nopunc = ''.join(nopunc)
# #     # Return words that are not stop words
# #     return [word for word in nopunc.split() if word.lower() not in stop_words]

# def detect_fake_reviews(reviews_list,threshold = 0.70):
#     reviews_list = [
#         {'review_title': 'I waited 5 years to watch it again', 'review_text': 'After watching this insane movie in the theatres back in 2014 I swore to god I will wait 5 years to watch it again so I get to forget it and experince the insanity it has again This without doubt is THE BEST MOVIE EVER MADE', 'rating': '10/10', 'error': False}, {'review_title': '7 years later', 'review_text': 'Sometimes I just need to see the start. Or end. Or a trailer. Or the music and theme from Hans Zimmer. Or the whole movie. Just to feel that thing, I only get from this movie. That the earth, space and time are something special, mystical. I never forget the first time I saw this movie, in an IMAX theatre in 2014. I was struck by it. Totally got me. And it stil does, 7 years later. This is the best movie ever made for me. Because of the feeling it gives me, no other movie can. So hard to get all of this emotion in only one movie. Brilliant.', 'rating': '10/10', 'error': False}, {'review_title': 'Out of this world', 'review_text': "A lot has been said and written about Interstellar. You can obviously take apart any movie that is out there. You'll either love this one or you won't. I kind of would have loved to have watched this on an IMAX screen, the sheer scope of the whole thing. It's just amazing, what Nolan has put on screen here. It's not only the visual experience (there is no 3D here by the way), it's the story/ride you take with it. It might be clear to some earlier than to others, where it's heading (no pun intended), but it doesn't change the fact that it's beautiful ... and terrifying at the same time. Going out and saying this will be considered a classic, might not be too far stretched, but you still can never predict those things. The deserved love the movie gets on IMDb and other places would be an indicator that this will ring true though. The acting is really good, but I can understand if some people have issues with the ending. But the movie had to end in one way or another. It's the best possible way this could go, even if it's not in our grasps just yet ...", 'rating': '10/10', 'error': False}, {'review_title': 'A visual and auditory marvel', 'review_text': 'Interstellar is a movie like no other. Unlike many apocalyptic sci-fi films that feature advanced technology as the source of our destruction (ala The Terminator movies), it instead asserts that technology will save us. Not everyone in Interstellar recognizes the potential of advanced technology. Most dismiss it as a waste of time and resources, and not just old curmudgeons feel this way. Thoughtful, intelligent young characters share this sentiment. This belief gained steam following a world-wide blight that wiped out the vast majority of life on earthâ€”crops and humans. Farming became paramount while advanced technology was deemed frivolous. Cooper (McConaughey) remains one of the few survivors who still appreciates the need for engineering. He feels like a man lost in time, until he stumbles into the headquarters of NASA (which had been operating in secret due to public disapproval). Here he meets others who realize that a return to our old ways is unsustainable and will ultimately lead to our demise. We need technology to save us. As Michael Caine, playing the brilliant (duh!) Professor Brand, eloquently tells Cooper, "we were never meant to save the world. We were meant to leave it." For a movie that won an Oscar for Best Visual Effects (and deservedly so) the sound stole the show. Hans Zimmer (Dark Knight Trilogy) unleashed a performance that was, quite appropriately, out of this world. Never have I seen a movie elevated so much by its score. The sound literally took my breath away. Forgive me for the next paragraph. I will gush irresponsibly about the magic that is this movie\'s sound. Skip it if you please. The music fueled every important scene. In every meaningful moment Zimmer\'s harmonies captivated watchers\' attention in the way of a coach commanding a locker room with a pregame speech. The music elucidated those emotional scenes, particularly ones featuring Cooper and his daughter, in a way that no words or visual ques possibly could. I sat frozen, jaw agape, with tears pouring down my cheeks as the music completely overwhelmed my emotions. The sound penetrated my soul and reverberated through my body, flowing to my appendages, supplying me with life like a heartbeat pumping blood through my veins. The music was truly the life force of movie. Yes, we all witnessed a visual triumph, a daring creative wonder the likes of which we haven\'t encountered since Inception. Yes, nearly every actor\'s performance proved worthy of commendation. McConaughey is on fire. Chastain is blossoming into a star. At this point Michael Cain exudes such knowledge and wisdom by merely appearing on screen that if he were cast as Albert Einstein, people would wonder if the role were beneath him. All this considered, and the sound still towered over everything. I walked out of the theater believing that I had experienced something unique, something truly special. Interstellar inspires, it awes, and above all it entertains. I cannot ask for more than that.', 'rating': '10/10', 'error': False}, {'review_title': 'Masterpiece', 'review_text': "Amongst the best movies of all time. The story, the acting, the script, the cinematography, the effects, the sound and the production as a whole is all absolute 10/10's. But what beats all of that is Hans Zimmers compositions. How he continues to churn out perfection to the senses is mindblowing.", 'rating': '10/10', 'error': False}, {'review_title': 'Best movie I have seen in my life', 'review_text': "This movie was the best written, acted, visual effected, etc. movie. This movie was the best movie I have ever seen. I am a huge Christopher Nolan fan and this movie was his finest. Matthew McConaughey turned in his best performance of his lifetime. Anne Hathaway was an amazing supporting actress and compared to her performance in Les Miserables, I have no idea how she didn't get an Oscar for this. The visual effects were more than just Oscar worthy. They were pioneering. I have never seen anything like it. One thing I would recommend is having a little previous knowledge about space. Not like Einstein stuff though. I would recommend you see this movie as fast as you can if you are a Nolan fan or not. I give this movie a rating of 97 out of 100.", 'rating': '10/10', 'error': False}, {'review_title': 'Possibly the best movie of all time', 'review_text': "I think just about everything has been said about this film now. But, I can still tell you what this masterpiece is to me. To me, this movie is possibly the most relevant movie ever, because it questions our own humanity relative to the Universe. Whether that's our ability to love, think, or persevere and walk into the unknown. We are explorers, and curious at heart. This untameable curiosity is not our end, but our beginning. It is what advanced this civilization and it will continue to do so. So never, never let anybody tell you that we shouldn't look towards the stars and wonder, because that's what makes us human. Without this stargazing we are merely animals, accepting our fate in the dust...", 'rating': '10/10', 'error': False}, {'review_title': 'Excellent Movie', 'review_text': "I judge a movie by how long it takes me to realize I need the bathroom, how long the movie can hold my interest and how convincing the events unfolding are. Well, I watched this movie all the way through with no bathroom breaks. My interest was grabbed from the start and held all the way through. Being old enough, and lucky enough to have watched the premiere of 2001 A Space Odyssey - and viewed it several times since - of course I made comparisons, and there were a few, but this movie tells an excellent stand alone story that is both riveting and believable. I'm not going to give away any secrets but anyone who watches the last five minutes or so without a lump in their throat and a tear in their eye, well you're a critic, you're not enjoying the movie because you're too busy looking for bloopers and faults. Were there bloopers and faults? The darn movie was so riveting if there were any I didn't notice them!", 'rating': '10/10', 'error': False}, {'review_title': 'Masterpiece', 'review_text': 'A science-fiction masterpiece. Nolan executes a marvelous direction that slowly but efficiently puts in place a dark world creating a necessity to save humanity. Add to that great performances from Nolan and Hathaway plus a great score from Hans Zimmer. The result is on the best science-fiction movies of all time.', 'rating': '10/10', 'error': False}, {'review_title': 'A Visually Monumental And Thoughtful Sci-Fi Epic', 'review_text': "I was extremely lucky to get the chance to see this film upon its first day release, before entering the cinema, my expectations were already high, after all, this was a film from the cinematic genius who brought us the likes of 'Inception' and 'The Dark Knight', to summarise the following review in a single sentence: I left the cinema in extreme awe from the visual masterpiece I had just viewed. A film that explores the psychological and emotional state of a man whose life revolves around his family, 'Interstellar' is a thrilling and thought-provoking film that boasts an intellectual story masterfully written by the Nolan brothers. Whilst there seems to have been influence from films like '2001: A Space Odyssey' and 'Apollo 13', 'Interstellar' is unique in its own way. Whilst the subject may be hard to comprehend at times, it can't be denied how visually monumental and thoughtful Christopher Nolan's epic science fiction masterpiece is, and can easily be named the best film of this year and possibly one of the greatest science fiction films to have ever graced the screen. A sheer brilliant feat of cinema.", 'rating': '10/10', 'error': False}, {'review_title': "Unmatched visuals and writing, yet sentimentalist and most definitely not Nolan's best directorial work", 'review_text': "first day release, before entering the cinema, my expectations were already high, after all, this was a film from the cinematic genius who brought us the likes of 'Inception' and 'The Dark Knight', to summarise the following review in a single sentence: I left the cinema in extreme awe from the visual masterpiece I had just viewed. A film that explores the psychological and emotional state of a man whose life revolves around his family, 'Interstellar' is a thrilling and thought-provoking film that boasts an intellectual story masterfully written by the Nolan brothers. Whilst there seems to have been influence from films like '2001: A Space Odyssey' and 'Apollo 13', 'Interstellar' is unique in its own way. Whilst the subject may be hard to comprehend at times, it can't be denied how visually monumental and thoughtful Christopher Nolan's epic science fiction masterpiece is, and can easily be named the best film of this year and possibly one of the greatest science fiction films to have ever graced the screen. A sheer brilliant feat of cinema.", 'rating': '6/10', 'error': False}, {'review_title': 'I will keep this short for the sake of not spoiling anything.', 'review_text': "Right off i should say I love Nolan. I adore most of his movies, and Interstellar is no exception. It is a marvelous piece of work whose visuals will be hard to forget. His shots of space and the way he played with colors is rather masterful. Maybe i expected it to be greater than what i saw, but even though I was moved by the movie i did not quite feel like he created something great with 'Interstellar.' This could be attributed maybe to his overuse of sentimentalism in the father-daughter relationship he creates. Nolan really tries to make you cry with this one. I have never seen him use such powerful emotions in his movies; however that is not necessarily a good thing for this movie, given that he uses his time trying to develop a family relationship at the expense of flow and congruency. Again, the Visuals are completely off the charts. The visual imagery is truly beautiful and something that Nolan has always excelled at. Given that the most visually stunning movie in recent years, Gravity, recently came out, Interstellar does not lag behind and shows you a spectacle of Visual effects. He will most likely win Visual effects at the Oscars. The Hans's score is marvelous and will most likely earn an Oscar nomination. Matthew Mcconaughey's acting is good, but nothing stellar, especially coming off the best acting role of his career. He plays the character like it should be played, but Nolan's characters never being truly drawn out or rounded does not help him any. The same can be said for the rest of the cast. The little girl was marvelous though. I do not want to reveal any piece of the story whatsoever, but i have to say, it is one of the most original scripts i've ever seen. Ultimately this movie is entertaining. There is no way Nolan can miss that. Another great thing that Nolan excels at is INSPIRING. By the time the credits rolled and people walked out, I sat there still in awe at the strong sense of human will the movie conveys. Personally, I don't think this is Nolan's best. I believe Memento stands as his masterpiece. But with Nolan, everyone has their own favorite movie. Maybe for some, Interstellar will be their favorite movie, for it is really Nolan's most ambitious and visually-striking work. By the way, Anyone else who even tries to compare Interstellar to '2001: A Space Odyssey' is out of their mind. Kubrick's mission was to create art. Nolan in 'Interstellar' sets to awe and inspire its audiences. It is truly a great piece of work.", 'rating': '10/10', 'error': False}, {'review_title': 'The best film I have ever seen', 'review_text': "All is amazing. I can't describe anything. It's a film that leads you to think about yourself and your plans in your life. I am a real series/movies' lover and... This was awesome.", 'rating': '10/10', 'error': False}, {'review_title': 'A good - not great - movie that falls apart the more you think about it.', 'review_text': 'Spoiler', 'rating': '7/10', 'error': False}, {'review_title': 'The most overrated movie on IMDb right now, a complete letdown', 'review_text': "If you saw 'sunshine' and thought 'wow, good thing they had scientist advisers, this stuff is so plausible', you will like 'interstellar'. If you saw 'armaggeddon' and thought 'what an awesome movie, i just wished they would have dragged the scene where he says goodbye to his daughter out even more', you will like 'interstellar'. If you saw 'inception' and thought 'this movie would be so much better in SPACE!', you will like 'interstellar'. And if you liked '2001' or any other intelligent/geeky sci-fi movie, you will hate 'interstellar'. Like some of Nolan's earlier works, it's long for the sake of length only. Its plot is up there with 'armaggeddon' in pure stupidity and forced US-cowboy-patriot-macho-ism, its special effects are underwhelming, its plot twists are obvious, its setting makes no sense, its characters are flat and forgettable, and its constant citations of '2001' just serve to make you remember how much better Kubrick did all of this with a tiny fraction of the money almost 50 years back. Disappointing.", 'rating': '4/10', 'error': False}, {'review_title': "Glad I didn't watch the trailer", 'review_text': "Certain things in life are precious. Very precious. And so was the Film for me. Why you might ask? Well seldom do i get the chance where i find myself sitting in a cinema anxious and intrigued by what might come. In a time where trailers are omnipresent and going to the movies without having seen one seems unreasonable, outright stupid to some i had the magical chance to find myself in front of the IMAX on a cold November night with 2 tickets to Interstellar. My only knowledge was that Nolan directed it and McConaughey stars in it. The images were brilliant the acting was top notch and everything was blended together by Hans Zimmer and his Music. 169 minutes flew by me with my eyes fixed on the screen and my heart racing. And there it was.. The ending. I couldn't believe it. I was reliving, rethinking the movie while the credit scenes rolled enjoying the moment, the smell of popcorn, my comfortable seat and what do i see next to me? Ninety percent of the people in the cinema rushing outside after the first second of the credit scenes. .. .Well apparently people enjoy movies different than i do. Maybe i should start watching trailers again :).", 'rating': '10/10', 'error': False}, {'review_title': 'I would rate 11/10', 'review_text': "I hadn't seen this but movie and caught it on a flight back from the DR. One of my favorite movies of all time. I would give the first half of the movie an 11/10, just completely enjoyed it as a sci fi/ thriller(in the sense of so much always being on the line). I loved the acting and just yeah, a great movie and one you should go see if you never have.", 'rating': '10/10', 'error': False}, {'review_title': 'Absolutely incredible; truly a must-watch', 'review_text': "It's difficult to put into words how powerful this film is. In fact, I'd go as far to say as this is so much more than just a film. After watching this, you somehow feel as if you've experienced a whole lifetime in a mere 3 hours. There isn't a single moment that goes unwasted; everything is purposeful. This is a sci-fi film in which the 'fi' part enables the film to convey so many powerful messages. It puts just the right amount of focus on science without trying too hard to explain or prove itself. To me, one of the most powerful effects this film has left me with is the concept of impermanence. Our time on this world is finite and we should cherish and embrace it as much as we can. The film also fiddles with the concept of time and uses it as an integral part of the plot. But perhaps the most powerful message of this film is of the human condition. Yes, as humans we have our shortcomings. But we can also show remarkable empathy, dedication and ingenuity. I would be lying if I said I wasn't highly emotional while watching this film. In fact, I found myself breaking into tears several times throughout the film. I know this review wasn't very analytical - I will say the following though: this film is so immersive and well done that you forget you're watching a film. The acting is simply superb and believable at all times. Reviewing this without talking about the audio and the music would be a great disservice. The film is accompanied by one of the most brilliant soundtracks. From a composition perspective, it might seem that there isn't a lot going on in the music. But the power of the soundtrack is in its simplicity and the emotions it manages to evoke. I will end this review by saying that I truly think this film has made me a better person in some sense. It reminded me of how powerful humans can be, and how we should use our finite time on this planet to care and be empathic towards each other and our planet.", 'rating': '10/10', 'error': False}, {'review_title': 'The best of all Time', 'review_text': "There is not even a single day I don't think of this movie, it's scenes , it has a profound impact on me and it shall remain with me forever.", 'rating': '10/10', 'error': False}, {'review_title': "Nolan's masterpiece, one of the best sci-fi movie", 'review_text': "I have been a cinema lover for years, read a lot of reviews on IMDb and everywhere, and never found the right movie to write my first review. I always thought I would wait for THE movie. And this is IT! When I first heard that Nolan was preparing a sci-fi movie, I felt like a kid again, waiting for his Christmas gift under the tree. I knew it would become a classic. And I'm sure it will. First of all, it is incredibly beautiful to watch. Honestly, it was so beautiful that I felt like I was sucked into the movie. The way Nolan decided to show some scenes really remind me of 2001 A Space Odyssey (actually many things will probably remind you of this movie). We can feel the talent of Christopher Nolan, just by looking at the way it is filmed. The techniques he used contribute to create that visual environment in a believable way. The sound environment is just mesmerizing. It is a very important part of the movie, because some scenes take place in space, and Noland just found the right way to use sound. The soundtrack (made by the great Hans Zimmer) is breathtaking, epic, amazing, unreal. I could find a lot more adjectives to qualify it, but you have to hear it to understand how epic they are. These two important parts (image and sound) create a stunning atmosphere. You will forget you are in a movie theater, and you will be lost in space, sucked into the adventures of this new Space Odyssey, begging for more. It is a truly unique experience. I can say that I have never felt something like that in a movie theater (at least not for the past ten years). Then, of course, the cast. First of all, Matthew McConaughey. I discovered this actor in Tropic Thunder, but he didn't really convince me, though he was quite funny. Then I saw Dallas Buyers Club. Since that movie, I love him. In this movie... Well, he is the movie. I exaggerate a bit, since there are other great actors (some even unexpected with a special guest) who play extremely well. But he is just what was needed to feel the human part of the story (which is very important in Interstellar). He is capable of making us feel so many different emotions all along the story, as a father, as a human. Anne Hathaway was very convincing, all together the actors managed to create some harmony, which makes the human interactions credible. Caine, Chastaing and Affleck are a perfect choice. And then there is... The special guest, I will call him 'X'. His role, which could be seen as a minor role, is actually much more important than that. He proves, once again, that he is a great actor. Watch and see. And finally, the scenario/story. I won't spoil anything here; I'll just try to convince you how great it is. Nolan is known to revolutionize everything when he tries a new genre in cinema. Well, once again he did it. With The Dark Knight he revolutionized the superhero genre. With Interstellar he's revolutionizing the sci-fi genre in cinema. From what I heard, he worked with a physicist (in gravitational physics and astrophysics) to help him with that movie. And we can feel and see it. During the fifties, Asimov laid the foundations of modern science fiction. Lucas and Kubrick did the same in cinema. Today, Nolan is laying the new foundations of the genre in cinema, proving that cinema is still at the beginning of what can be done (brace yourselves my friends, we have not seen anything yet). Why? Well, simply because we only know a few things about space, some things can't be proved for the moment, so we can use theory, and make the best of it. That is exactly what Nolan did. He used theories that exist today, and made a movie about mankind, about pioneers, about humanity, about us. Because, in spite of all the sci-fi aspect, it is a story about humanity. McConaughey, Hathaway, and mainly 'X', will managed to convince you about that. My rating for this movie can only be a 10, because in itself, it is a beginning for a new kind of cinema. It IS a classic. Those who say 'we can't compare this movie to 2001 Space Odyssey, nor can we compare Nolan to Kubrick' are wrong. We can, and we should. Talented people don't live only in the past, some genius live today, among us. And Nolan is one of them. Many say that he is overrated. I truly don't think so. Only time will answer that. This is the sci-fi movie of the decade, and probably the best movie Nolan ever made. Just go for it, without a second thought.", 'rating': '10/10', 'error': False}, {'review_title': 'A journey across the galaxy to save humanity', 'review_text': 'Spoiler', 'rating': '9/10', 'error': False}, {'review_title': "You can't find a better space movie than that!", 'review_text': 'Spoiler', 'rating': '10/10', 'error': False}, {'review_title': 'What a massive disappointment', 'review_text': 'Spoiler', 'rating': '6/10', 'error': False}, {'review_title': 'Mankind Achievement', 'review_text': 'THIS IS A MANKIND ACHIEVEMENT. THE BEST MOVIE EVER MADE. IS ANYONE HAS DOUBT?', 'rating': '10/10', 'error': False}, {'review_title': 'Calm down there, fan-boys.', 'review_text': 'Spoiler', 'rating': '6/10', 'error': False}, {'review_title': 'Disappointing', 'review_text': 'Spoiler', 'rating': '5/10', 'error': False}, {'review_title': 'Disappointing', 'review_text': 'Spoiler', 'rating': '5/10', 'error': False}
#         ]
#     test_data = []
#     for review_dict in reviews_list:
#         test_data.append(review_dict["review_title"]+ " " + review_dict["review_text"])

#     """
#     Load the trained model and make predictions on the provided test data.
    
#     Args:
#         test_data (list): A list of review strings to classify.
    
#     Returns:
#         None: Prints predictions and their probabilities.
#     """
#     with open('./models/fake_review_model.pkl', 'rb') as file:
#         loaded_model = pickle.load(file)
#         print("Model loaded")

#     # Make predictions
#     predictions = loaded_model.predict(test_data)

#     # Get class labels and probabilities
#     probabilities = loaded_model.predict_proba(test_data)
#     class_labels = loaded_model.classes_

#     # Print predictions
#     print("Predictions:", predictions)

#     # Print probabilities for each class label
#     results = []
#     for i in range(len(predictions)):
#         datum = {
#             "review_text" : test_data[i],
#             "confidence" : round(probabilities[i,0]*100), # ex 84
#             "label" : probabilities[i,0] < threshold,  # if true , orignal else comp generated
#             "rating" : reviews_list[i]["rating"]
#         }
#         results.append(datum)
    
#     return results

# import os
# print("cwd" , os.getcwd())
